@(importInsert: Int, importUpdate: Int, targetGroup: String)(implicit lang: Lang)

@base("SQLTool") {
<link rel='stylesheet' type='text/css' href='@routes.Assets.at("javascripts/ext/jqgrid/css/ui.jqgrid.css")' />
<link rel='stylesheet' type='text/css' href='@routes.Assets.at("javascripts/ext/dynatree/src/skin/ui.dynatree.css")' />
<script type='text/javascript' src='@routes.Assets.at("javascripts/ext/jqgrid/js/i18n/grid.locale-ja.js")'></script>
<script type='text/javascript' src='@routes.Assets.at("javascripts/ext/jqgrid/js/jquery.jqGrid.min.js")'></script>
<script type='text/javascript' src='@routes.Assets.at("javascripts/ext/dynatree/dist/jquery.dynatree.min.js")'></script>
<script src="@routes.Assets.at("javascripts/sqlgrid.js")" type="text/javascript"></script>
<script src="@routes.Assets.at("javascripts/sqltool.js")" type="text/javascript"></script>
<script src="@routes.Assets.at("javascripts/jquery.splitter.js")" type="text/javascript"></script>
<script>
var app;
$(document).ready(function() {
	var settings = {
		"importInsert" : @importInsert,
		"importUpdate" : @importUpdate,
		"targetGroup" : "@targetGroup"
	}
	$.fn.button.noConflict();
	app = new flect.app.sqltool.SqlTool(settings);
});
</script>
<div id="header" class="navbar navbar-inverse">
	<div class="navbar-inner">
		<div class="container-fluid">
			<span class="brand" class="active">SQLTool</span>
			<ul class="nav">
				<li class="dropdown">
					<a href="#" class="dropdown-toggle" data-toggle="dropdown">File<b class="caret"></b></a>
					<ul class="dropdown-menu">
						<li><a href="#" id="btnExport">Export</a></li>
						<li><a href="#" id="btnImport">Import</a></li>
					</ul>
				</li>
				<li><a href="@routes.Assets.at("ja/manual.html")">How to use</a></li>
				<li class="dropdown">
					<a href="#" class="dropdown-toggle" data-toggle="dropdown">Language<b class="caret"></b></a>
					<ul class="dropdown-menu">
						<li><a href="#">English</a></li>
						<li><a href="#">Japanese</a></li>
					</ul>
				</li>
			</ul>
		</div>
	</div>
</div>
<div id="workspace">
	<div id="upper-pane">
		<div id="tree-pane">Tree</div>
		<div id="sql-pane">
			<div id="toolbar">
				<button class="tool-btn btn btn-info" id="btnExec">Execute</button>
				<div class="btn-group">
					<button class="tool-btn btn btn-info" id="btnSave">Save</button>
					<button class="btn btn-info dropdown-toggle" data-toggle="dropdown">
						<span class="caret"></span>
					</button>
					<ul class="dropdown-menu">
						<li><a href="#" id="btnSaveAs">Save as</a></li>
						<li class="disabled"><a href="#" id="btnEdit">Edit</a></li>
						<li class="divider"></li>
						<li class="disabled"><a href="#" id="btnDelete">Delete</a></li>
					</ul>
				</div>
				<button class="tool-btn btn btn-danger" id="btnTest">Test</button>
			</div>
			<div id="sql-tab">
				<ul>
					<li><a href="#text-pane">SQL</a></li>
					<li><a href="#form-pane">Form</a></li>
				</ul>
				<div id="text-pane">
					<textarea id="txtSQL"></textarea>
				</div>
				<div id="form-pane">
					<div id="formDesc-pane">
						<div class="form-header">Description</div>
						<div id="formDesc"></div>
					</div>
					<div id="formForm-pane">
						<div class="form-header">Parameters</div>
						<div id="formForm"></div>
					</div>
				</div>
			</div>
			<div id="schema-tab" style="display:none"></div>
		</div>
	</div>
	<div id="lower-pane">
		<div id="grid-pane" class="lower-child" style="display:none"></div>
		<div id="error-msg" class="lower-child alert alert-error" style="display:none"></div>
	</div>
</div>
<div id="saveDialog" style="display:none">
	<fieldset>
		<legend>Save SQL</legend>
		<ul>
			<li><label>Name</label><input type="text" id="sql-name"></li>
			<li><label>Group</label><input type="text" id="sql-group"></li>
			<li><label>Description</label><textarea id="sql-desc"></textarea>
		</ul>
	</fieldset>
</div>
<form id="importForm" style="position:absolute;top:0;left:-1000px" action="/sql/import.sql" method="post" enctype="multipart/form-data">
	<input type="file" name="file" id="importFile">
</form>
}
